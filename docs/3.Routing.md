# Le Routing (Vue Router) pour préparer les futures pages

Dans cette section, nous allons configurer le routing pour notre application Vue.js en utilisant Vue Router. Le routing permet de naviguer entre différentes pages ou vues de l'application sans recharger la page entière.

Maintenant que la structure de base de notre application est en place, nous allons transformer notre application "mono-page" en un site capable de naviguer entre l'accueil, la connexion et les équipes.

## Mettre en place le Routing avec `Vue Router`

Dans Vue, on utilise une configuration centralisée, ce qui est très pratique pour les APIs REST.

1. Installation de Vue Router :

    ```bash
    npm install vue-router
    ```

2. Création des vues (Pages)

    Avant de configurer le router, créons deux page vides dans le dossier `src/views` pour tester la navigation.

    `src/views/HomeView.vue` :

    ```vue
    <script setup>
    // En Svelte 5, c'est ton code dans <script>
    </script>

    <template>
    <div class="p-8">
        <h1 class="text-3xl font-bold text-slate-800">Bienvenue dans le Pokédex</h1>
        <p class="mt-4 text-slate-600">Découvrez tous les Pokémons et créez vos équipes.</p>
    </div>
    </template>
    ```

    `src/views/LoginView.vue` :

    ```vue
    <template>
    <div class="p-8">
        <h1 class="text-3xl font-bold text-slate-800">Connexion</h1>
        <p class="mt-4 text-slate-600">Identifiez-vous pour gérer vos équipes.</p>
    </div>
    </template>
    ```

3. Configuration du Router (`src/router/index.js`) :

    Créer le fichier `src/router/index.js` pour définir les routes de l'application.
    C'est içi qu'on définit quelle URL affiche quel composant.

    ```js
    import { createRouter, createWebHistory } from 'vue-router';
    import HomeView from '../views/HomeView.vue';
    import LoginView from '../views/LoginView.vue';

    const router = createRouter({
    history: createWebHistory(), // Utilise l'historique du navigateur (URLs propres)
    routes: [
        {
            path: '/',
            name: 'home',
            component: HomeView
        },
        {
            path: '/login',
            name: 'login',
            component: LoginView
        }
    ]
    });

    export default router;
    ```

4. Intégration du Router dans l'application (`src/main.js`)

   On doit dire à Vue d'utiliser ce router.

   Modifier le fichier `src/main.js` :

   ```js
   import { createApp } from 'vue'
    import './assets/main.css'
    import App from './App.vue'
    import router from './router' // Importe notre config

    const app = createApp(App)
    app.use(router) // Active le router
    app.mount('#app')
    ```

5. Affichage des routes dans `App.vue`

   C'est l'étape cruciale. `App.vue` est le layout (composant) principale de notre application.
   On utilise `<router-view>` pour dire à Vue : "Affiche la page correspondant à l'URL ici".

   Remplacer le contenu de `src/App.vue` par :

   ```vue
    <template>
    <header class="bg-slate-800 text-white p-4 flex gap-4 shadow-md">
        <RouterLink to="/" class="hover:text-yellow-400 font-medium">Accueil</RouterLink>
        <RouterLink to="/login" class="hover:text-yellow-400 font-medium">Connexion</RouterLink>
    </header>

    <main class="max-w-6xl mx-auto">
        <RouterView />
    </main>
    </template>
    ```

---

### Concept clé : Le composant `<RouterView>`

En SvelteKit, on a un ``<slot />`` dans les layouts. En Vue, c'est ``<RouterView />``. Toutes les routes définies dans le fichier ``index.js`` viendront s'injecter à cet endroit précis.

---

#### Pourquoi c'est moderne et sobre ?

Grâce à **Tailwind** (les classes ``bg-slate-800``, ``shadow-md``, ``max-w-6xl``), nous avons déjà un header sombre et élégant avec une page centrée, sans avoir écrit une seule ligne de CSS traditionnel.
